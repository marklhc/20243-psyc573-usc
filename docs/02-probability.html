<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>2&nbsp; Probability – PSYC 573 Bayesian Data Analysis (2024 Fall): Course Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-bayes-theorem.html" rel="next">
<link href="./01-intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-225295148', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PSYC 573 Bayesian Data Analysis (2024 Fall): Course Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="./../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../modules.html"> 
<span class="menu-text">Modules</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../docs/index.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../exercises/index.html"> 
<span class="menu-text">Exercises</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../syllabus/index.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./../resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/marklhc/usc-psyc573-notes" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./PSYC-573-Bayesian-Data-Analysis--2024-Fall---Course-Notes.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-probability.html">Week 2</a></li><li class="breadcrumb-item"><a href="./02-probability.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Probability</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-probability.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-bayes-theorem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bayes’s Theorem</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 3</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-beta-bernoulli-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Beta-Bernoulli Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04b-beta-bernoulli-stan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Beta-Bernoulli Model With Stan</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#history-of-probability" id="toc-history-of-probability" class="nav-link active" data-scroll-target="#history-of-probability"><span class="header-section-number">2.1</span> History of Probability</a>
  <ul class="collapse">
<li><a href="#games-of-chance" id="toc-games-of-chance" class="nav-link" data-scroll-target="#games-of-chance"><span class="header-section-number">2.1.1</span> Games of chance</a></li>
  </ul>
</li>
  <li>
<a href="#different-ways-to-interpret-probability" id="toc-different-ways-to-interpret-probability" class="nav-link" data-scroll-target="#different-ways-to-interpret-probability"><span class="header-section-number">2.2</span> Different Ways to Interpret Probability</a>
  <ul class="collapse">
<li><a href="#classical-interpretation" id="toc-classical-interpretation" class="nav-link" data-scroll-target="#classical-interpretation"><span class="header-section-number">2.2.1</span> Classical Interpretation</a></li>
  <li><a href="#frequentist-interpretation" id="toc-frequentist-interpretation" class="nav-link" data-scroll-target="#frequentist-interpretation"><span class="header-section-number">2.2.2</span> Frequentist Interpretation</a></li>
  <li><a href="#subjectivist-interpretation" id="toc-subjectivist-interpretation" class="nav-link" data-scroll-target="#subjectivist-interpretation"><span class="header-section-number">2.2.3</span> Subjectivist Interpretation</a></li>
  </ul>
</li>
  <li>
<a href="#basics-of-probability" id="toc-basics-of-probability" class="nav-link" data-scroll-target="#basics-of-probability"><span class="header-section-number">2.3</span> Basics of Probability</a>
  <ul class="collapse">
<li><a href="#probability-distributions" id="toc-probability-distributions" class="nav-link" data-scroll-target="#probability-distributions"><span class="header-section-number">2.3.1</span> Probability Distributions</a></li>
  <li><a href="#summarizing-a-probability-distribution" id="toc-summarizing-a-probability-distribution" class="nav-link" data-scroll-target="#summarizing-a-probability-distribution"><span class="header-section-number">2.3.2</span> Summarizing a Probability Distribution</a></li>
  <li><a href="#multiple-variables" id="toc-multiple-variables" class="nav-link" data-scroll-target="#multiple-variables"><span class="header-section-number">2.3.3</span> Multiple Variables</a></li>
  <li><a href="#law-of-total-probability" id="toc-law-of-total-probability" class="nav-link" data-scroll-target="#law-of-total-probability"><span class="header-section-number">2.3.4</span> Law of Total Probability</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-probability.html">Week 2</a></li><li class="breadcrumb-item"><a href="./02-probability.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Probability</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Probability</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="history-of-probability" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="history-of-probability">
<span class="header-section-number">2.1</span> History of Probability</h2>
<section id="games-of-chance" class="level3" data-number="2.1.1"><h3 data-number="2.1.1" class="anchored" data-anchor-id="games-of-chance">
<span class="header-section-number">2.1.1</span> Games of chance</h3>
<p>Correspondence between French Mathematicians (Pierre de Fermat and Blaise Pascal) on gambling problem by Antoine Gombaud, Chevalier de Méré. The problem is roughly of the form<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<blockquote class="blockquote">
<p>Imagine two people playing a multi-round game. In each round, each person has an equal chance of winning. The first person who wins six rounds will get a huge cash prize. Now, consider a scenario in which A and B have played six rounds, where A has won five and B has won one. At that time, the game had to be stopped due to a thunderstorm. Since neither A nor B have reached six wins, instead of giving the prize to either one of them, they agree to divide up the prize. What would be a fair way to do so?</p>
</blockquote>
<p>The discussion led to the formalization of using mathematics to solve the problem. Basically, one way is to say if A has a 97% chance of winning the prize eventually and B has a 3% chance, then A should get 97% of the prize.</p>
</section></section><section id="different-ways-to-interpret-probability" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="different-ways-to-interpret-probability">
<span class="header-section-number">2.2</span> Different Ways to Interpret Probability</h2>
<p>There are multiple perspectives for understanding probability.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> What you’ve learned in your statistics training is likely based on the <em>frequentist</em> interpretation of probability (and thus frequentist statistics), whereas the foundation of what you will learn in this class is the <em>subjectivist</em> interpretation of probability. Understanding the different perspectives on probability is helpful for understanding the Bayesian framework.</p>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>You don’t need to commit to one interpretation of probability in order to conduct Bayesian data analysis.</p>
</div>
</div>
</div>
<section id="classical-interpretation" class="level3" data-number="2.2.1"><h3 data-number="2.2.1" class="anchored" data-anchor-id="classical-interpretation">
<span class="header-section-number">2.2.1</span> Classical Interpretation</h3>
<p>This is an earlier perspective and is based on counting rules. The idea is that probability is equally distributed among all “indifferent” outcomes. “Indifferent” outcomes are those where a person has no evidence to say that one outcome is more likely than another. For example, when one throws a die, one does not think that a certain number is more likely than another unless one knows that the die is biased. In this case, there are six equally likely outcomes, so the probability of each outcome is 1 / 6.</p>
<p><img src="./images/dice.png" class="img-fluid" style="width:50.0%"></p>
</section><section id="frequentist-interpretation" class="level3" data-number="2.2.2"><h3 data-number="2.2.2" class="anchored" data-anchor-id="frequentist-interpretation">
<span class="header-section-number">2.2.2</span> Frequentist Interpretation</h3>
<p>The frequentist interpretation states that probability is essentially the long-run relative frequency of an outcome. For example, to find the probability of getting a “1” when throwing a die, one can repeat the experiment many times, as illustrated below:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;">Trial</th>
<th style="text-align: center;">Outcome</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9</td>
<td style="text-align: center;">3</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: center;">3</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>And we can plot the relative frequency of “1”s in the trials:</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-plot-frequency" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-plot-frequency-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-plot-frequency-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-frequency-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.1: Relative frequency when repeatedly rolling a die.
</figcaption></figure>
</div>
</div>
</div>
<p>As you can see, with more trials, the relative frequency approaches 1 / 6. It’s the reason why in introductory statistics, many of the concepts require you to think in terms of repeated sampling (e.g., sampling distribution, <span class="math inline">\(p\)</span>-values, standard errors, confidence intervals), because probability in this framework is only possible when the outcome can be repeated. It’s also the reason why we don’t talk about something like:</p>
<ul>
<li>the probability of the null hypothesis being true, or</li>
<li>the probability that the population mean is in the interval [75.5, 80.5],</li>
</ul>
<p>because the population is fixed and cannot be repeated. Only the samples can be repeated, so probability in frequentist statistics is only about samples.</p>
<section id="problem-of-the-single-case" class="level4" data-number="2.2.2.1"><h4 data-number="2.2.2.1" class="anchored" data-anchor-id="problem-of-the-single-case">
<span class="header-section-number">2.2.2.1</span> Problem of the single case</h4>
<p>Because of the frequentist’s reference to long-run relative frequency, it does not make sense to talk about the probability of an event that cannot be repeated under this framework. For example, it does not make sense to talk about</p>
<ul>
<li>the probability that the Democrats/Republicans will win the 2028 US Presidential Election, or</li>
<li>the probability that the LA Chargers winning the 2024 Super Bowl, or</li>
<li>the probability that it will rain on Christmas Day in LA in 2024,</li>
</ul>
<p>because all these are specific events that cannot be repeated. However, it is common for laypeople to talk about probabilities or chances for these events.</p>
</section></section><section id="subjectivist-interpretation" class="level3" data-number="2.2.3"><h3 data-number="2.2.3" class="anchored" data-anchor-id="subjectivist-interpretation">
<span class="header-section-number">2.2.3</span> Subjectivist Interpretation</h3>
<p>The frequentist interpretation is sometimes called the “objectivist view,” as the reference of probability is based on empirical evidence of long-run relative frequency (albeit hypothetical in many cases). In contrast, the <em>subjectivist</em> view of probability is based on one’s belief. For example, when I say that the probability of getting a “1” from rolling a die is 1 / 6, it reflects the state of my mind about the die. My belief can arise from different sources: Maybe I make the die and know it is a fair one; maybe I saw someone throwing the die 1,000 times, and the number of “1”s was close to 1,000 / 6, or maybe someone I trust and with authority says that the die has a 1-in-6 chance of showing a “1”.</p>
<p>The “subjective” component has been criticized a lot by frequentist scholars, sometimes unfairly. To be clear, what “subjective” here means is that probability reflects the state of one’s mind instead of the state of the world, and so it is totally fine that two people can have different beliefs about the same event. However, it does not mean that probability is arbitrary, as the beliefs are subjected to the constraints of the axioms of probability as well as the condition that the person possessing such beliefs is <em>rational</em>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Therefore, if two persons are exposed to the same information, they should form similar, though likely not identical, beliefs about the event.</p>
<p>The subjective interpretation works perfectly fine with single events, as one can have a belief about whether it rains on a particular day or a belief about a particular election result.</p>
<section id="calibrating-a-subjective-belief" class="level4" data-number="2.2.3.1"><h4 data-number="2.2.3.1" class="anchored" data-anchor-id="calibrating-a-subjective-belief">
<span class="header-section-number">2.2.3.1</span> Calibrating a subjective belief</h4>
<p>In order to represent one’s belief by probability, one needs to assign a nonzero value to every plausible outcome of an event. This has been the job of odds-makers for a long time. Indeed, a lot of the development in the field of probability has to do with coming up with a fair bet. The process of assigning probabilities to outcomes of an event according to one’s belief is called <em>calibration</em>. For example, consider three possible outcomes for tomorrow’s weather. For simplicity, consider three mutually exclusive possible outcomes: sunny, cloudy, and rainy.</p>
<p>To calibrate my belief, consider first if you bet $10, and the return is (a) $30 for sunny, (b) $30 for cloudy, and (c) $30 for rainy. Which one will you bet? If you’re like me in LA, I’m pretty sure I’ll bet on (a), as I think that it is more likely to have a sunny day. This means that setting <span class="math inline">\(P\)</span>(sunny) = <span class="math inline">\(P\)</span>(cloudy) = <span class="math inline">\(P\)</span>(rainy) = 1 / 3 is not a good reflection of my belief.</p>
<p>Now consider the bet with the returns (a) $20 for sunny, (b) $30 for cloudy, and (c) $60 for rainy. This would reflect the belief that there is a 50% chance of a sunny day, 33.33% chance of a cloudy day, and 16.67% chance of a rainy day. Will you take the bet? This is an improvement from the last one, but I would still say a sunny day is a good bet, which suggests that the probability of 50% is too low for a sunny day. The idea is to continue iterating until it is hard to consider (a), (b), or (c) as a clear betting favorite. For me, this would end up being something like (a) $16.7 for sunny, (b) $33.3 for cloudy, and (c) $100 for rainy, which would correspond to 60% sunny, 30% cloudy, and 10% rainy.</p>
<p>If it’s hard for you to consider the gambling analogy, an alternative way is to consider how many times is a sunny day more likely than a non-sunny day, and how many times is a cloudy day more likely than a rainy day. For example, I may consider a sunny day to be twice as likely as a non-sunny day, which would give the probability of a sunny day to be 66.67%. Then, if I also think that a cloudy day is three times as likely as a rainy day, I would assign a probability of 33.33% <span class="math inline">\(\times\)</span> 3 / 4 = 25% for a cloudy day, and a probability of 33.33% <span class="math inline">\(\times\)</span> 1 / 4 = 8.33% for a rainy day.</p>
<p>The process of calibrating one’s belief plays a key role in Bayesian data analysis, namely in the form of formulating a <em>prior</em> probability distribution.</p>
</section></section></section><section id="basics-of-probability" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="basics-of-probability">
<span class="header-section-number">2.3</span> Basics of Probability</h2>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Kolmogorov axioms
</div>
</div>
<div class="callout-body-container callout-body">
<p>For an event <span class="math inline">\(A_i\)</span> (e.g., getting a “1” from throwing a die)</p>
<ul>
<li>
<span class="math inline">\(P(A_i) \geq 0\)</span> [All probabilities are non-negative]</li>
<li>
<span class="math inline">\(P(A_1 \cup A_2 \cup \cdots) = 1\)</span> [Union of all possibilities is 1]</li>
<li>
<span class="math inline">\(P(A_1) + P(A_2) = P(A_1 \text{ or } A_2)\)</span> [Addition rule]</li>
</ul>
</div>
</div>
<p>Consider two events, for example, on throwing a die,</p>
<ul>
<li>
<span class="math inline">\(A\)</span>: The number is odd</li>
<li>
<span class="math inline">\(B\)</span>: The number is larger than or equal to 4</li>
</ul>
<p>Assuming that die is (believed to be) fair, you can verify that the probability of <span class="math inline">\(A\)</span> is <span class="math inline">\(P(A)\)</span> = 3 / 6 = 1 / 2, and the probability of <span class="math inline">\(B\)</span> is also <span class="math inline">\(P(B)\)</span> = 3 / 6 = 1 / 2.</p>
<section id="probability-distributions" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="probability-distributions">
<span class="header-section-number">2.3.1</span> Probability Distributions</h3>
<ul>
<li><p>Discrete event (e.g., the outcome of throwing a die or an election): probability <em>mass</em>. The probability is nonzero, at least for some outcomes. The graph below on the left shows the probability mass of the sum of the numbers from two dice.</p></li>
<li>
<p>Continuous event (e.g., temperature): probability <em>density</em>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> The probability is basically zero for any outcome. Instead, the probability density is approximated by <span class="math inline">\(P(A \leq a \leq A + h) / h\)</span> for a very small <span class="math inline">\(h\)</span>.</p>
<ul>
<li>For example, to find the probability density that a person’s well-being score is 80, we first find the probability that a person scores between 80 and 80.5 (or 80 and 80.0005), and divide that probability by 0.5 (or 0.0005). See the shaded area of the graph below on the right.</li>
</ul>
</li>
</ul>
<div id="fig-prob-mass-density" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-prob-mass-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-prob-mass-density" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-prob-mass-density-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-prob-mass-density-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-prob-mass-density-1.png" class="img-fluid figure-img" data-ref-parent="fig-prob-mass-density" width="336">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-prob-mass-density-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Probability mass
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-prob-mass-density" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-prob-mass-density-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-prob-mass-density-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-prob-mass-density-2.png" class="img-fluid figure-img" data-ref-parent="fig-prob-mass-density" width="336">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-prob-mass-density-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Probability density
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-prob-mass-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.2: Examples of probability distributions
</figcaption></figure>
</div>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>For this course, as in the textbook, we use <span class="math inline">\(P(x)\)</span> to mean both the probability mass for an outcome <span class="math inline">\(x\)</span> when the event is discrete, and the probability density at an outcome <span class="math inline">\(x\)</span> when the event is continuous.</p>
</div>
</div>
</div>
<section id="example-normal-distribution" class="level4" data-number="2.3.1.1"><h4 data-number="2.3.1.1" class="anchored" data-anchor-id="example-normal-distribution">
<span class="header-section-number">2.3.1.1</span> Example: Normal Distribution</h4>
<p><span class="math display">\[P(x) = \frac{1}{\sqrt{2 \pi} \sigma} \exp\left(-\frac{1}{2}\left[\frac{x - \mu}{\sigma}\right]^2\right)\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Write a function to compute the density of an outcome x</span></span>
<span><span class="co"># for a normal distribution</span></span>
<span><span class="va">my_normal_density</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">mu</span>, <span class="va">sigma</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span> <span class="op">(</span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">mu</span><span class="op">)</span> <span class="op">/</span> <span class="va">sigma</span><span class="op">)</span> <span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">sigma</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># For example, density at x = 36 in a normal distribution</span></span>
<span><span class="co"># with mu = 50 and sigma = 10</span></span>
<span><span class="fu">my_normal_density</span><span class="op">(</span><span class="fl">36</span>, mu <span class="op">=</span> <span class="fl">50</span>, sigma <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 0.01497275</code></pre>
</div>
</div>
</section></section><section id="summarizing-a-probability-distribution" class="level3" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="summarizing-a-probability-distribution">
<span class="header-section-number">2.3.2</span> Summarizing a Probability Distribution</h3>
<p>While it is useful to know the probability mass/density of every possible outcome, in many situations, it is helpful to summarize a distribution by some numbers.</p>
<section id="central-tendency" class="level4" data-number="2.3.2.1"><h4 data-number="2.3.2.1" class="anchored" data-anchor-id="central-tendency">
<span class="header-section-number">2.3.2.1</span> Central Tendency</h4>
<ul>
<li>Mean: <span class="math inline">\(E(X) = \int x \cdot P(x) d x\)</span>
</li>
<li>Median: 50th percentile; the median of <span class="math inline">\(X\)</span> is <span class="math inline">\(\mathit{Mdn}_X\)</span> such that <span class="math inline">\(P(X \leq \mathit{Mdn}_X)\)</span> = 1 / 2</li>
<li>Mode: A value with maximum probability mass/density</li>
</ul>
<p>See <a href="#fig-central-tendency-and-interval-1" class="quarto-xref">Figure&nbsp;<span>2.3 (a)</span></a> for examples.</p>
<div id="fig-central-tendency-and-interval" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-central-tendency-and-interval-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-central-tendency-and-interval" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-central-tendency-and-interval-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-central-tendency-and-interval-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-central-tendency-and-interval-1.png" class="img-fluid figure-img" data-ref-parent="fig-central-tendency-and-interval" width="336">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-central-tendency-and-interval-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Central Tendency
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-central-tendency-and-interval" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-central-tendency-and-interval-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-central-tendency-and-interval-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-central-tendency-and-interval-2.png" class="img-fluid figure-img" data-ref-parent="fig-central-tendency-and-interval" width="336">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-central-tendency-and-interval-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Interval
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-central-tendency-and-interval-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.3: Measures of central tendency and interval
</figcaption></figure>
</div>
</section><section id="dispersion" class="level4" data-number="2.3.2.2"><h4 data-number="2.3.2.2" class="anchored" data-anchor-id="dispersion">
<span class="header-section-number">2.3.2.2</span> Dispersion</h4>
<ul>
<li>Variance: <span class="math inline">\(V(X) = E[X - E(X)]^2\)</span>
<ul>
<li>Standard deviation: <span class="math inline">\(\sigma(X) = \sqrt{V(X)}\)</span>
</li>
</ul>
</li>
<li>Median absolute deviation (MAD): <span class="math inline">\(1.4826 \times \mathit{Mdn}(|X - \mathit{Mdn}_X|)\)</span>
</li>
</ul></section><section id="interval" class="level4" data-number="2.3.2.3"><h4 data-number="2.3.2.3" class="anchored" data-anchor-id="interval">
<span class="header-section-number">2.3.2.3</span> Interval</h4>
<p>Use <span class="math inline">\(C(X)\)</span> to denote an interval. A <span class="math inline">\(W\)</span>% interval means <span class="math inline">\(P(X \in C[X]) \approx W\%\)</span></p>
<ul>
<li>One-sided interval: <span class="math inline">\(C(X)\)</span> is half-bounded</li>
<li>Symmetric <span class="math inline">\(W\)</span>% interval: <span class="math inline">\(C(X) = [L(X), U(X)]\)</span> is bounded, with <span class="math inline">\(P(X &lt; L[X]) = P(X &gt; U[X]) \approx W\% / 2\)</span>
<ul>
<li>Also called <em>equal-tailed</em> interval</li>
</ul>
</li>
<li>Highest density <span class="math inline">\(W\)</span>% interval (HDI): <span class="math inline">\(P(x_c) \geq P(x_o)\)</span> for every <span class="math inline">\(x_c\)</span> in <span class="math inline">\(C(X)\)</span> and every <span class="math inline">\(x_o\)</span> outside <span class="math inline">\(C(X)\)</span>. In general, the HDI is the shortest <span class="math inline">\(W\)</span>% interval.</li>
</ul>
<p>The plot in <a href="#fig-central-tendency-and-interval-2" class="quarto-xref">Figure&nbsp;<span>2.3 (b)</span></a> shows several 80% intervals.</p>
</section><section id="computing-summaries-of-sample-distributions-using-r" class="level4" data-number="2.3.2.4"><h4 data-number="2.3.2.4" class="anchored" data-anchor-id="computing-summaries-of-sample-distributions-using-r">
<span class="header-section-number">2.3.2.4</span> Computing Summaries of Sample Distributions Using R</h4>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Simulate data from a half-Student's t distribution with</span></span>
<span><span class="co"># df = 4, and call it sim_s</span></span>
<span><span class="va">sim_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">rt</a></span><span class="op">(</span><span class="fl">10000</span>, df <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># can be both positive and negative</span></span>
<span><span class="va">sim_s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span> <span class="co"># take the absolute values</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sim_s</span><span class="op">)</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_histogram</span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-half-t" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-half-t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-half-t-1.png" class="img-fluid figure-img" width="336">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-half-t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.4: Simulated density of a half-Student’s t distribution
</figcaption></figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Central tendency</span></span>
<span><span class="co"># (note: the mode is difficult to compute for continuous</span></span>
<span><span class="co"># variables, and rarely used in this course.)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span>,</span>
<span>  median <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">sim_s</span>, bw <span class="op">=</span> <span class="st">"SJ"</span><span class="op">)</span><span class="op">$</span><span class="va">x</span><span class="op">[</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">sim_s</span>, bw <span class="op">=</span> <span class="st">"SJ"</span><span class="op">)</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span>
<span>  <span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;      mean    median      mode 
#&gt; 1.0082926 0.7426326 0.1021776</code></pre>
</div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Dispersion</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    variance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span>,</span>
<span>    mad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/mad.html">mad</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  variance        sd       mad 
#&gt; 1.0231058 1.0114869 0.6996741</code></pre>
</div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 80% Interval</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>`0%` <span class="op">=</span> <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">sim_s</span>, probs <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span><span class="op">)</span> <span class="co"># right-sided</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;     0%    80% 
#&gt; 0.0000 1.5598</code></pre>
</div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">sim_s</span>, probs <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span>, `100%` <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="co"># left-sided</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;       20%      100% 
#&gt; 0.2680906       Inf</code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">sim_s</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.9</span><span class="op">)</span><span class="op">)</span> <span class="co"># equal-tailed/symmetric</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;       10%       90% 
#&gt; 0.1299027 2.1371636</code></pre>
</div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">HDInterval</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/HDInterval/man/hdi.html">hdi</a></span><span class="op">(</span><span class="va">sim_s</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;        lower        upper 
#&gt; 0.0003616342 2.7992620765 
#&gt; attr(,"credMass")
#&gt; [1] 0.95</code></pre>
</div>
</div>
</section></section><section id="multiple-variables" class="level3" data-number="2.3.3"><h3 data-number="2.3.3" class="anchored" data-anchor-id="multiple-variables">
<span class="header-section-number">2.3.3</span> Multiple Variables</h3>
<ul>
<li>Joint probability: <span class="math inline">\(P(X, Y)\)</span>
</li>
<li>Marginal probability: <span class="math display">\[P(X) = \int P(X, y) dy\]</span> <span class="math display">\[P(Y) = \int P(x, Y) dx\]</span>
<ul>
<li>The probability that outcome <span class="math inline">\(X\)</span> happens, regardless of what values <span class="math inline">\(Y\)</span> take.</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-marginal-dist" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-marginal-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-probability_files/figure-html/fig-marginal-dist-1.png" class="img-fluid figure-img" width="432">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-marginal-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.5: Joint and Marginal Distributions
</figcaption></figure>
</div>
</div>
</div>
<section id="conditional-probability" class="level4" data-number="2.3.3.1"><h4 data-number="2.3.3.1" class="anchored" data-anchor-id="conditional-probability">
<span class="header-section-number">2.3.3.1</span> Conditional Probability</h4>
<p>Conditional probability is the probability of an event given some other information. In the real world, you can say that everything is conditional. For example, the probability of getting an odd number on throwing a die is 1/2 is conditional on the die being fair. We use <span class="math inline">\(P(A \mid B)\)</span> to represent the <span style="color:red">the conditional probability of event <span class="math inline">\(A\)</span> given event <span class="math inline">\(B\)</span>.</span>.</p>
<p>Continuing from the previous example, <span class="math inline">\(P(A \mid B)\)</span> is the conditional probability of getting an odd number, <em>knowing that the number is at least 4</em>. By definition, conditional probability is the probability that both <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> happen, divided by the probability that <span class="math inline">\(B\)</span> happens.</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Conditional Probability
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\(P(A \mid B) = \dfrac{P(A, B)}{P(B)}\)</span></p>
</div>
</div>
<p>In the example, <span class="math inline">\(P(A, B)\)</span> = 1 / 6, because 5 is the only even number <span class="math inline">\(\geq\)</span> 4 when throwing a die. Thus, <span class="math display">\[
\begin{aligned}
    P(A \mid B) &amp; = 1 / 3 \\
             &amp; = \frac{P(A, B)}{P(B)} \\
             &amp; = \frac{1 / 6}{1 / 2}
\end{aligned}
\]</span></p>
<p>This picture should make it clear:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="./images/cond_prob2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Please recognize that <span class="math inline">\(P(A \mid B) \neq P(B \mid A)\)</span>. For example, when throwing a die, <span class="math inline">\(P\)</span>(number is six | even number) = 1/3, but <span class="math inline">\(P\)</span>(even number | number is six) is 1.</p>
</div>
</div>
</div>
</section><section id="independence" class="level4" data-number="2.3.3.2"><h4 data-number="2.3.3.2" class="anchored" data-anchor-id="independence">
<span class="header-section-number">2.3.3.2</span> Independence</h4>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Two events, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, are independent if <span class="math inline">\(P(A \mid B) = P(A)\)</span></p>
</div>
</div>
</div>
<p>This means that any knowledge of <span class="math inline">\(B\)</span> does not (or should not) affect one’s belief about <span class="math inline">\(A\)</span>. Consider the example:</p>
<ul>
<li>
<span class="math inline">\(A\)</span>: A die shows five or more</li>
<li>
<span class="math inline">\(B\)</span>: A die shows an odd number</li>
</ul>
<p>Here is the joint probability</p>
<table class="caption-top table">
<thead><tr class="header">
<th></th>
<th>&gt;= 5</th>
<th>&lt;= 4</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>odd</td>
<td>1/6</td>
<td>2/6</td>
</tr>
<tr class="even">
<td>even</td>
<td>1/6</td>
<td>2/6</td>
</tr>
</tbody>
</table>
<p>So the conditional probability of <span class="math inline">\(P\)</span>(&gt;= 5 | odd) = (1/6) / (1/2) = 1/3, which is the same as <span class="math inline">\(P\)</span>(&gt;= 5 | even) = (1/6) / (1/2) = 1/3. Similarly it can be verified that <span class="math inline">\(P\)</span>(&lt;= 4 | odd) = <span class="math inline">\(P\)</span>(&lt;= 4 | even) = 2/3. Therefore, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent.</p>
<p>On the other hand, for the example</p>
<ul>
<li>
<span class="math inline">\(A\)</span>: A die shows four or more</li>
<li>
<span class="math inline">\(B\)</span>: A die shows an odd number</li>
</ul>
<p>the joint probabilities are</p>
<table class="caption-top table">
<thead><tr class="header">
<th></th>
<th>&gt;= 4</th>
<th>&lt;= 3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>odd</td>
<td>1/6</td>
<td>2/6</td>
</tr>
<tr class="even">
<td>even</td>
<td>2/6</td>
<td>1/6</td>
</tr>
</tbody>
</table>
<p>Obviously, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are not independent because once we know that the number is four or above, the probability of whether it is an odd number or not changes.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Independence can also be expressed as</p>
<blockquote class="blockquote">
<p>If A and B are independent, <span class="math inline">\(P(A, B) = P(A) P(B)\)</span></p>
</blockquote>
</div>
</div>
</div>
</section></section><section id="law-of-total-probability" class="level3" data-number="2.3.4"><h3 data-number="2.3.4" class="anchored" data-anchor-id="law-of-total-probability">
<span class="header-section-number">2.3.4</span> Law of Total Probability</h3>
<p>When we talk about conditional probability, like <span class="math inline">\(B_1\)</span> = 4 or above and <span class="math inline">\(B_2\)</span> = 3 or below, we can get <span class="math inline">\(P(A \mid B_1)\)</span> and <span class="math inline">\(P(A \mid B_2)\)</span> (see the figure below), we refer <span class="math inline">\(P(A)\)</span> as the <em>marginal probability</em>, meaning that the probability of <span class="math inline">\(A\)</span> <span style="color:red"> without knowledge of <span class="math inline">\(B\)</span></span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="./images/total_probability.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>If <span class="math inline">\(B_1, B_2, \cdots, B_n\)</span> are all mutually exclusive possibilities for an event (so they add up to a probability of 1), then</p>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law of Total Probability
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\begin{aligned}
  P(A) &amp; = P(A, B_1) + P(A, B_2) + \cdots + P(A, B_n)  \\
       &amp; = P(A \mid B_1)P(B_1) + P(A \mid B_2)P(B_2) + \cdots + P(A \mid B_n) P(B_n)  \\
       &amp; = \sum_{k = 1}^n P(A \mid B_k) P(B_k)
\end{aligned}
\]</span></p>
</div>
</div>


</section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>see the exact form at <a href="https://en.wikipedia.org/wiki/Problem_of_points" class="uri">https://en.wikipedia.org/wiki/Problem_of_points</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>See <a href="http://plato.stanford.edu/entries/probability-interpret/" class="uri">http://plato.stanford.edu/entries/probability-interpret/</a> for more information<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>In a purely subjectivist view of probability, assigning a probability <span class="math inline">\(P\)</span> to an event does not require any justifications, as long as it follows the axioms of probability. For example, I can say that the probability of me winning the lottery and thus becoming the wealthiest person on earth tomorrow is 95%, which by definition would make the probability of me not winning the lottery 5%. Most Bayesian scholars, however, do not endorse this version of subjectivist probability and require justifications of one’s beliefs (that have some correspondence to the world).<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>For many problems in the social and behavioral sciences, the measured variables are not truly continuous, but we still use continuous distributions to approximate them.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./01-intro.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-bayes-theorem.html" class="pagination-link" aria-label="Bayes's Theorem">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bayes’s Theorem</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Hok Chio (Mark) Lai</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>